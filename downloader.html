<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baba Downloader 2.0 | Hi-Tech</title>
    <style>
        :root { --neon: #00f3ff; --glow: rgba(0, 243, 255, 0.5); }
        body { margin: 0; background: #050505; font-family: 'Orbitron', sans-serif; height: 100vh; display: flex; align-items: center; justify-content: center; overflow: hidden; color: #fff; }
        .grid { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-image: linear-gradient(var(--glow) 1px, transparent 1px), linear-gradient(90deg, var(--glow) 1px, transparent 1px); background-size: 40px 40px; transform: perspective(500px) rotateX(60deg) translateY(0); animation: gridMove 3s linear infinite; z-index: -1; opacity: 0.3; }
        @keyframes gridMove { 100% { transform: perspective(500px) rotateX(60deg) translateY(40px); } }
        .main-box { background: rgba(10, 10, 10, 0.8); border: 2px solid var(--neon); border-radius: 20px; padding: 40px; box-shadow: 0 0 20px var(--neon), inset 0 0 15px var(--neon); backdrop-filter: blur(10px); width: 90%; max-width: 450px; text-align: center; position: relative; overflow: hidden; transition: 0.5s; }
        .main-box:hover { box-shadow: 0 0 40px var(--neon); transform: scale(1.02); }
        h1 { font-size: 28px; text-transform: uppercase; letter-spacing: 5px; color: var(--neon); text-shadow: 0 0 10px var(--neon); margin-bottom: 30px; }
        .input-group { position: relative; margin-bottom: 25px; }
        input { width: 100%; padding: 15px; background: transparent; border: 1px solid var(--neon); border-radius: 5px; color: #fff; font-size: 14px; outline: none; box-sizing: border-box; transition: 0.3s; }
        input:focus { box-shadow: 0 0 15px var(--neon); }
        button { width: 100%; padding: 15px; background: var(--neon); border: none; border-radius: 5px; color: #000; font-weight: bold; cursor: pointer; font-size: 16px; text-transform: uppercase; transition: 0.4s; box-shadow: 0 0 15px var(--neon); }
        button:hover { background: #fff; box-shadow: 0 0 30px #fff; transform: translateY(-3px); }
        #status { margin-top: 20px; font-size: 14px; min-height: 50px; }
        .download-btn { display: inline-block; margin-top: 15px; padding: 12px 25px; background: #0f0; color: #000; text-decoration: none; border-radius: 30px; font-weight: bold; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(0, 255, 0, 0.7); } 70% { box-shadow: 0 0 0 15px rgba(0, 255, 0, 0); } 100% { box-shadow: 0 0 0 0 rgba(0, 255, 0, 0); } }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="grid"></div>
    <div class="main-box">
        <h1>Baba Downloader 2.0</h1>
        <div class="input-group">
            <input type="text" id="urlInput" placeholder="PASTE LINK (FB/INSTA/YT)...">
        </div>
        <button onclick="startDownload()">Execute Download</button>
        <div id="status"></div>
    </div>

    <script>
        async function startDownload() {
            const link = document.getElementById('urlInput').value;
            const status = document.getElementById('status');
            if (!link) { status.innerHTML = "<span style='color:red;'>⚠️ Link dal bsdk!</span>"; return; }
            status.innerHTML = "<span style='color:var(--neon);'>⏳ INITIATING SYSTEM SCAN...</span>";

            try {
                const response = await fetch('/download', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ url: link })
                });
                const result = await response.json();
                if (result.success) {
                    status.innerHTML = `<span style='color:#0f0;'>✅ DATA DECRYPTED!</span><br><a href="${result.link}" target="_blank" class="download-btn">⬇️ DOWNLOAD VIDEO</a>`;
                } else {
                    status.innerHTML = `<span style='color:red;'>❌ FAILED: ${result.error}</span>`;
                }
            } catch (e) {
                status.innerHTML = "<span style='color:red;'>❌ SERVER CONNECTION LOST!</span>";
            }
        }
    </script>
</body>
</html>
